🔎 checking possible migrations..

🔎 found a 'storybook-binary' migration:
╭ Automigration detected ────────────────────────────────────────────────────────────────────────╮
│                                                                                                │
│   We've detected you are using Storybook 7.0.0 without Storybook's storybook binary.           │
│   Starting in Storybook 7.0, it has to be installed.                                           │
│                                                                                                │
│                                                                                                │
│   More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#start-storybook   │
│   --build-storybook-binaries-removed                                                           │
│                                                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'storybook-binary' migration on your project? » (Y/n)√ Do you want to run the 'storybook-binary' migration on your project? ... yes

✅ Adding 'storybook' as dev dependency

✅ ran storybook-binary migration

🔎 found a 'sb-scripts' migration:
╭ Automigration detected ────────────────────────────────────────────────────────────────────────╮
│                                                                                                │
│   We've detected you are using Storybook 7.0.0 with scripts from previous versions of          │
│   Storybook.                                                                                   │
│   Starting in Storybook 7, the start-storybook and build-storybook binaries have changed to    │
│   storybook dev and storybook build respectively.                                              │
│   In order to work with Storybook 7.0.0, your storybook scripts have to be adjusted to use     │
│   the binary. We can adjust them for you:                                                      │
│                                                                                                │
│   storybook                                                                                    │
│   from:                                                                                        │
│   start-storybook -p 6006                                                                      │
│   to:                                                                                          │
│   storybook dev -p 6006                                                                        │
│                                                                                                │
│   build-storybook                                                                              │
│   from:                                                                                        │
│   build-storybook                                                                              │
│   to:                                                                                          │
│   storybook build                                                                              │
│                                                                                                │
│   In case this migration did not cover all of your scripts, or you'd like more info:           │
│   https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#start-storybook--build-sto   │
│   rybook-binaries-removed                                                                      │
│                                                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'sb-scripts' migration on your project? » (Y/n)√ Do you want to run the 'sb-scripts' migration on your project? ... yes
✅ Updating scripts in package.json


✅ ran sb-scripts migration

⚠️  failed to check fix new-frameworks

TypeError: Cannot read properties of null (reading 'version')
    at Object.check (C:\Users\user\AppData\Local\npm-cache\_npx\eb8bf615e50a412a\node_modules\@storybook\cli\dist\generate.js:152:7487)
    at async automigrate (C:\Users\user\AppData\Local\npm-cache\_npx\eb8bf615e50a412a\node_modules\@storybook\cli\dist\generate.js:310:1221)
    at async doUpgrade (C:\Users\user\AppData\Local\npm-cache\_npx\eb8bf615e50a412a\node_modules\@storybook\cli\dist\generate.js:387:2893)
    at async withTelemetry (C:\Users\user\AppData\Local\npm-cache\_npx\eb8bf615e50a412a\node_modules\@storybook\core-server\dist\index.js:23:3348)
    at async upgrade (C:\Users\user\AppData\Local\npm-cache\_npx\eb8bf615e50a412a\node_modules\@storybook\cli\dist\generate.js:387:3336)

🔎 found a 'github-flavored-markdown-mdx' migration:
╭ Automigration detected ────────────────────────────────────────────────────────────────────────╮
│                                                                                                │
│   In MDX1 you had the option of using GitHub flavored markdown.                                │
│                                                                                                │
│   Storybook 7.0 uses MDX2 for compiling MDX, and thus no longer supports GFM out of the box.   │
│   Because of this you need to explicitly add the GFM plugin in the addon-docs options:         │
│   https://storybook.js.org/docs/7.0/react/writing-docs/mdx#lack-of-github-flavored-markdown-   │
│   gfm                                                                                          │
│                                                                                                │
│   We recommend you follow the guide on the link above, however we can add a temporary          │
│   storybook addon that helps make this migration easier.                                       │
│   We'll install the addon and add it to your storybook config.                                 │
│                                                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'github-flavored-markdown-mdx' migration on your project? » (Y/n)√ Do you want to run the 'github-flavored-markdown-mdx' migration on your project? ... yes
✅ Adding "@storybook/addon-mdx-gfm" addon
✅ ran github-flavored-markdown-mdx migration

🔎 found a 'bare-mdx-stories-glob' migration:
╭ Automigration detected ────────────────────────────────────────────────────────────────────────╮
│                                                                                                │
│   We've detected your project has one or more globs in your 'stories' config that matches      │
│   .stories.mdx files:                                                                          │
│   "../stories/**/*.stories.mdx"                                                                │
│   "../stories/**/*.stories.@(js|jsx|ts|tsx)"                                                   │
│                                                                                                │
│   In Storybook 7, we have deprecated defining stories in MDX files, and consequently have      │
│   changed the suffix to simply .mdx.                                                           │
│                                                                                                │
│   We can automatically migrate your 'stories' config to include any .mdx file instead of       │
│   just .stories.mdx.                                                                           │
│   That would result in the following 'stories' config:                                         │
│   "../stories/**/*.mdx"                                                                        │
│   "../stories/**/*.stories.@(js|jsx|ts|tsx)"                                                   │
│                                                                                                │
│   To learn more about this change, see:                                                        │
│   https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mdx-docs-files               │
│                                                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'bare-mdx-stories-glob' migration on your project? » (Y/n)√ Do you want to run the 'bare-mdx-stories-glob' migration on your project? ... yes
✅ Setting 'stories' config:
[
  "../stories/**/*.mdx",
  "../stories/**/*.stories.@(js|jsx|ts|tsx)"
]
✅ ran bare-mdx-stories-glob migration

🔎 found a 'autodocsTrue' migration:
╭ Automigration detected ────────────────────────────────────────────────────────────────────────╮
│                                                                                                │
│   We've changed the configuration of autodocs (previous docsPage), so now the value:           │
│   - docs.autodocs: true -- means automatically create docs for every CSF file                  │
│   - docs.autodocs: 'tag' -- means only create autodocs for CSF files with the 'autodocs' tag   │
│   - docs.autodocs: false -- means never create autodocs                                        │
│                                                                                                │
│   Based on your prior configuration,  we can set the `docs.autodocs` to keep your old          │
│   behaviour:                                                                                   │
│                                                                                                │
│   docs: { autodocs: true }                                                                     │
│                                                                                                │
│   More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#autodocs          │
│                                                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'autodocsTrue' migration on your project? » (Y/n)√ Do you want to run the 'autodocsTrue' migration on your project? ... yes
✅ Setting 'docs.autodocs' to true in main.js
✅ ran autodocsTrue migration

╭ Migration check ran with failures ─────────────────────────────────────────────────────────────╮
│                                                                                                │
│                                                                                                │
│   Successful migrations:                                                                       │
│                                                                                                │
│   storybook-binary, sb-scripts, github-flavored-markdown-mdx, bare-mdx-stories-glob,           │
│   autodocsTrue                                                                                 │
│                                                                                                │
│   Failed migrations:                                                                           │
│                                                                                                │
│   new-frameworks:                                                                              │
│   Cannot read properties of null (reading 'version')                                           │
│                                                                                                │
│                                                                                                │
│   You can find the full logs in C:\ankaraworld_catalog\migration-storybook.log                 │
│                                                                                                │
│   ─────────────────────────────────────────────────                                            │
│                                                                                                │
│   If you'd like to run the migrations again, you can do so by running 'npx storybook@next      │
│   automigrate'                                                                                 │
│                                                                                                │
│   The automigrations try to migrate common patterns in your project, but might not contain     │
│   everything needed to migrate to the latest version of Storybook.                             │
│                                                                                                │
│   Please check the changelog and migration guide for manual migrations and more information:   │
│   https://storybook.js.org/migration-guides/7.0                                                │
│   And reach out on Discord if you need help: https://discord.gg/storybook                      │
│                                                                                                │
╰────────────────────────────────────────────────────────────────────────────────────────────────╯

